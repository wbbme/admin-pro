(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1034],{72574:function(E){E.exports={menu:"menu___3fMWW",right:"right___2CMz5",action:"action___3ut1O",search:"search___3FPts",account:"account___1r_Ku",avatar:"avatar___1Rx79",dark:"dark___1zu9O"}},64890:function(E){E.exports={container:"container___1Rq3A"}},70835:function(E){E.exports={headerSearch:"headerSearch___RN1il",input:"input___3Vzpl",show:"show___VZRKu"}},69337:function(E){E.exports={list:"list___1Bcfk",item:"item___1UQri",meta:"meta___17ay5",avatar:"avatar___35uD6",iconElement:"iconElement___2YWai",read:"read___Querz",title:"title___6FQVY",description:"description___2ifEu",datetime:"datetime___IKrkR",extra:"extra___1_Nu2",loadMore:"loadMore___12o4h",loadedAll:"loadedAll___3qZ2d",notFound:"notFound___1yAup",bottomBar:"bottomBar___1SPVP"}},67914:function(E){E.exports={popover:"popover___3CK4c",noticeButton:"noticeButton___2tmwZ",icon:"icon___1g-4R",badge:"badge___2Vc9h",tabs:"tabs___dTkaB"}},72115:function(E,H,t){"use strict";t.r(H),t.d(H,{default:function(){return ot}});var P=t(13378),ue=t(50189),U=t(56361),ut=t(50111),de=t(55419),dt=t(13753),me=t(48429),ve=t(93526),he=t(91374),ge=t(60580),e=t(67294),O=t(87748),M=t(23715),fe=t(78874),Y=t(99061),mt=t(14943),vt=t(81984),ye=t(82692),Ee=t(1870),ht=t(58210),J=t(87240),gt=t(90930),X=t(23040),ft=t(37482),T=t(3810),w=t(60360),k=t(66646),q=t(65353),_=t(18604),pe=t(89366),Ce=t(24616),Ne=t(55035),yt=t(19597),Ze=t(2291),ee=t(3911),Me=t(35510),V=t.n(Me),De=t(64890),xe=t.n(De),Ve=function(a){var n=a.overlayClassName,o=(0,ee.Z)(a,["overlayClassName"]);return e.createElement(Ze.Z,(0,P.Z)({overlayClassName:V()(xe().container,n)},o))},te=Ve,Ae=t(72574),y=t.n(Ae),Te=function(m){(0,q.Z)(n,m);var a=(0,_.Z)(n);function n(){var o;(0,w.Z)(this,n);for(var r=arguments.length,v=new Array(r),c=0;c<r;c++)v[c]=arguments[c];return o=a.call.apply(a,[this].concat(v)),o.onMenuClick=function(i){var l=i.key;if(l==="logout"){var s=o.props.dispatch;s&&s({type:"login/logout"});return}M.m8.push("/account/".concat(l))},o}return(0,k.Z)(n,[{key:"render",value:function(){var r=this.props,v=r.currentUser,c=v===void 0?{avatar:"",name:""}:v,i=r.menu,l=e.createElement(T.Z,{className:y().menu,selectedKeys:[],onClick:this.onMenuClick},i&&e.createElement(T.Z.Item,{key:"center"},e.createElement(pe.Z,null),"\u4E2A\u4EBA\u4E2D\u5FC3"),i&&e.createElement(T.Z.Item,{key:"settings"},e.createElement(Ce.Z,null),"\u4E2A\u4EBA\u8BBE\u7F6E"),i&&e.createElement(T.Z.Divider,null),e.createElement(T.Z.Item,{key:"logout"},e.createElement(Ne.Z,null),"\u9000\u51FA\u767B\u5F55"));return c&&c.name?e.createElement(te,{overlay:l},e.createElement("span",{className:"".concat(y().action," ").concat(y().account)},e.createElement(X.C,{size:"small",className:y().avatar,src:c.avatar,alt:"avatar"}),e.createElement("span",{className:"".concat(y().name," anticon")},c.name))):e.createElement("span",{className:"".concat(y().action," ").concat(y().account)},e.createElement(J.Z,{size:"small",style:{marginLeft:8,marginRight:8}}))}}]),n}(e.Component),Re=(0,M.$j)(function(m){var a=m.user;return{currentUser:a.currentUser}})(Te),Et=t(93850),Be=t(1402),pt=t(68137),Se=t(50532),ae=t(99463),z=t(44742),Fe=t(76570),$=t(82321),be=t(70835),K=t.n(be),Ie=function(a){var n=a.className,o=a.defaultValue,r=a.onVisibleChange,v=a.placeholder,c=a.open,i=a.defaultOpen,l=(0,ee.Z)(a,["className","defaultValue","onVisibleChange","placeholder","open","defaultOpen"]),s=(0,e.useRef)(null),f=(0,$.Z)(o,{value:a.value,onChange:a.onChange}),u=(0,z.Z)(f,2),g=u[0],d=u[1],D=(0,$.Z)(i!=null?i:!1,{value:a.open,onChange:r}),N=(0,z.Z)(D,2),h=N[0],C=N[1],B=V()(K().input,(0,ae.Z)({},K().show,h));return e.createElement("div",{className:V()(n,K().headerSearch),onClick:function(){C(!0),h&&s.current&&s.current.focus()},onTransitionEnd:function(x){var G=x.propertyName;G==="width"&&!h&&r&&r(h)}},e.createElement(Fe.Z,{key:"Icon",style:{cursor:"pointer"}}),e.createElement(Be.Z,{key:"AutoComplete",className:B,value:g,style:{height:28,marginTop:-6},options:l.options,onChange:d},e.createElement(Se.Z,{ref:s,defaultValue:o,"aria-label":v,placeholder:v,onKeyDown:function(x){x.key==="Enter"&&l.onSearch&&l.onSearch(g)},onBlur:function(){C(!1)}})))},He=Ie,Pe=t(74356),Ct=t(14643),ne=t(92909),Ue=t(7739),Oe=t.n(Ue),ze=t(56051),$e=t.n(ze),Nt=t(18514),Ke=t(33227),Zt=t(84786),oe=t(52311),Le=t(89317),Mt=t(66518),L=t(95322),je=t(69337),p=t.n(je),Ge=function(a){var n=a.data,o=n===void 0?[]:n,r=a.onClick,v=a.onClear,c=a.title,i=a.onViewMore,l=a.emptyText,s=a.showClear,f=s===void 0?!0:s,u=a.clearText,g=a.viewMoreText,d=a.showViewMore,D=d===void 0?!1:d;return!o||o.length===0?e.createElement("div",{className:p().notFound},e.createElement("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/sAuJeJzSKbUmHfBQRzmZ.svg",alt:"not found"}),e.createElement("div",null,l)):e.createElement("div",null,e.createElement(L.ZP,{className:p().list,dataSource:o,renderItem:function(h,C){var B=V()(p().item,(0,ae.Z)({},p().read,h.read)),Z=h.avatar?typeof h.avatar=="string"?e.createElement(X.C,{className:p().avatar,src:h.avatar}):e.createElement("span",{className:p().iconElement},h.avatar):null;return e.createElement(L.ZP.Item,{className:B,key:h.key||C,onClick:function(){r==null||r(h)}},e.createElement(L.ZP.Item.Meta,{className:p().meta,avatar:Z,title:e.createElement("div",{className:p().title},h.title,e.createElement("div",{className:p().extra},h.extra)),description:e.createElement("div",null,e.createElement("div",{className:p().description},h.description),e.createElement("div",{className:p().datetime},h.datetime))}))}}),e.createElement("div",{className:p().bottomBar},f?e.createElement("div",{onClick:v},u," ",c):null,D?e.createElement("div",{onClick:function(h){i&&i(h)}},g):null))},re=Ge,Qe=t(67914),R=t.n(Qe),We=oe.Z.TabPane,j=function(a){var n=function(){var N=a.children,h=a.loading,C=a.onClear,B=a.onTabChange,Z=a.onItemClick,x=a.onViewMore,G=a.clearText,rt=a.viewMoreText;if(!N)return null;var le=[];return e.Children.forEach(N,function(S){if(!!S){var A=S.props,b=A.list,I=A.title,Q=A.count,se=A.tabKey,lt=A.showClear,st=A.showViewMore,it=b&&b.length?b.length:0,ie=Q||Q===0?Q:it,ct=ie>0?"".concat(I," (").concat(ie,")"):I;le.push(e.createElement(We,{tab:ct,key:se},e.createElement(re,(0,P.Z)({},S.props,{clearText:G,viewMoreText:rt,data:b,onClear:function(){C==null||C(I,se)},onClick:function(W){Z==null||Z(W,S.props)},onViewMore:function(W){x==null||x(S.props,W)},showClear:lt,showViewMore:st,title:I}))))}}),e.createElement(J.Z,{spinning:h,delay:300},e.createElement(oe.Z,{className:R().tabs,onChange:B},le))},o=a.className,r=a.count,v=a.bell,c=(0,$.Z)(!1,{value:a.popupVisible,onChange:a.onPopupVisibleChange}),i=(0,z.Z)(c,2),l=i[0],s=i[1],f=V()(o,R().noticeButton),u=n(),g=v||e.createElement(Le.Z,{className:R().icon}),d=e.createElement("span",{className:V()(f,{opened:l})},e.createElement(Ke.Z,{count:r,style:{boxShadow:"none"},className:R().badge},g));return u?e.createElement(te,{placement:"bottomRight",overlay:u,overlayClassName:R().popover,trigger:["click"],visible:l,onVisibleChange:s},d):d};j.defaultProps={emptyImage:"https://gw.alipayobjects.com/zos/rmsportal/wAhyIChODzsoKIOBHcBk.svg"},j.Tab=re;var F=j,Ye=function(m){(0,q.Z)(n,m);var a=(0,_.Z)(n);function n(){var o;(0,w.Z)(this,n);for(var r=arguments.length,v=new Array(r),c=0;c<r;c++)v[c]=arguments[c];return o=a.call.apply(a,[this].concat(v)),o.changeReadState=function(i){var l=i.id,s=o.props.dispatch;s&&s({type:"global/changeNoticeReadState",payload:l})},o.handleNoticeClear=function(i,l){var s=o.props.dispatch;ne.default.success("\u6E05\u7A7A\u4E86".concat(" ",i)),s&&s({type:"global/clearNotices",payload:l})},o.getNoticeData=function(){var i=o.props.notices,l=i===void 0?[]:i;if(!l||l.length===0||!Array.isArray(l))return{};var s=l.map(function(f){var u=(0,U.Z)({},f);if(u.datetime&&(u.datetime=$e()(f.datetime).fromNow()),u.id&&(u.key=u.id),u.extra&&u.status){var g={todo:"",processing:"blue",urgent:"red",doing:"gold"}[u.status];u.extra=e.createElement(Pe.Z,{color:g,style:{marginRight:0}},u.extra)}return u});return Oe()(s,"type")},o.getUnreadData=function(i){var l={};return Object.keys(i).forEach(function(s){var f=i[s];l[s]||(l[s]=0),Array.isArray(f)&&(l[s]=f.filter(function(u){return!u.read}).length)}),l},o}return(0,k.Z)(n,[{key:"componentDidMount",value:function(){var r=this.props.dispatch;r&&r({type:"global/fetchNotices"})}},{key:"render",value:function(){var r=this,v=this.props,c=v.currentUser,i=v.fetchingNotices,l=v.onNoticeVisibleChange,s=this.getNoticeData(),f=this.getUnreadData(s);return e.createElement(F,{className:y().action,count:c&&c.unreadCount,onItemClick:function(g){r.changeReadState(g)},loading:i,clearText:"\u6E05\u7A7A",viewMoreText:"\u67E5\u770B\u66F4\u591A",onClear:this.handleNoticeClear,onPopupVisibleChange:l,onViewMore:function(){return ne.default.info("Click on view more")},clearClose:!0},e.createElement(F.Tab,{tabKey:"notification",count:f.notification,list:s.notification,title:"\u901A\u77E5",emptyText:"\u4F60\u5DF2\u67E5\u770B\u6240\u6709\u901A\u77E5",showViewMore:!0}),e.createElement(F.Tab,{tabKey:"message",count:f.message,list:s.message,title:"\u6D88\u606F",emptyText:"\u60A8\u5DF2\u8BFB\u5B8C\u6240\u6709\u6D88\u606F",showViewMore:!0}),e.createElement(F.Tab,{tabKey:"event",title:"\u5F85\u529E",emptyText:"\u4F60\u5DF2\u5B8C\u6210\u6240\u6709\u5F85\u529E",count:f.event,list:s.event,showViewMore:!0}))}}]),n}(e.Component),Je=(0,M.$j)(function(m){var a=m.user,n=m.global,o=m.loading;return{currentUser:a.currentUser,collapsed:n.collapsed,fetchingMoreNotices:o.effects["global/fetchMoreNotices"],fetchingNotices:o.effects["global/fetchNotices"],notices:n.notices}})(Ye),Dt={dev:"orange",test:"green",pre:"#87d068"},Xe=function(a){var n=a.theme,o=a.layout,r=y().right;return n==="dark"&&o==="top"&&(r="".concat(y().right,"  ").concat(y().dark)),e.createElement("div",{className:r},e.createElement(He,{className:"".concat(y().action," ").concat(y().search),placeholder:"\u7AD9\u5185\u641C\u7D22",defaultValue:"umi ui",options:[{label:e.createElement("a",{href:"https://umijs.org/zh/guide/umi-ui.html"},"umi ui"),value:"umi ui"},{label:e.createElement("a",{href:"next.ant.design"},"Ant Design"),value:"Ant Design"},{label:e.createElement("a",{href:"https://protable.ant.design/"},"Pro Table"),value:"Pro Table"},{label:e.createElement("a",{href:"https://prolayout.ant.design/"},"Pro Layout"),value:"Pro Layout"}]}),e.createElement(ye.Z,{title:"\u4F7F\u7528\u6587\u6863"},e.createElement("a",{style:{color:"inherit"},target:"_blank",href:"https://pro.ant.design/docs/getting-started",rel:"noopener noreferrer",className:y().action},e.createElement(Ee.Z,null))),e.createElement(Je,null),e.createElement(Re,{menu:!0}),!1,e.createElement(M.pD,{className:y().action}))},we=(0,M.$j)(function(m){var a=m.settings;return{theme:a.navTheme,layout:a.layout}})(Xe),ke=t(82405),qe=t(54200),_e=t.n(qe),et=e.createElement(de.ZP,{status:403,title:"403",subTitle:"Sorry, you are not authorized to access this page.",extra:e.createElement(me.Z,{type:"primary"},e.createElement(O.rU,{to:"/user/login"},"Go Login"))}),tt=function m(a){return a.map(function(n){var o=(0,U.Z)((0,U.Z)({},n),{},{children:n.children?m(n.children):void 0});return Y.Z.check(n.authority,o,null)})},at=e.createElement(he.Z,{copyright:"".concat(new Date().getFullYear()," \u8682\u8681\u96C6\u56E2\u4F53\u9A8C\u6280\u672F\u90E8\u51FA\u54C1"),links:[{key:"Ant Design Pro",title:"Ant Design Pro",href:"https://pro.ant.design",blankTarget:!0},{key:"github",title:e.createElement(fe.Z,null),href:"https://github.com/ant-design/ant-design-pro",blankTarget:!0},{key:"Ant Design",title:"Ant Design",href:"https://ant.design",blankTarget:!0}]}),nt=function(a){var n=a.dispatch,o=a.children,r=a.settings,v=a.location,c=v===void 0?{pathname:"/"}:v,i=(0,e.useRef)([]);(0,e.useEffect)(function(){n&&n({type:"user/fetchCurrent"})},[]);var l=function(d){n&&n({type:"global/changeLayoutCollapsed",payload:d})},s=(0,e.useMemo)(function(){return(0,ke.nG)(c.pathname||"/",i.current).pop()||{authority:void 0}},[c.pathname]),f=(0,M.YB)(),u=f.formatMessage;return e.createElement(e.Fragment,null,e.createElement(ve.ZP,(0,P.Z)({logo:_e(),formatMessage:u},a,r,{onCollapse:l,onMenuHeaderClick:function(){return M.m8.push("/")},menuItemRender:function(d,D){return d.isUrl||!d.path||c.pathname===d.path?D:e.createElement(O.rU,{to:d.path},D)},breadcrumbRender:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return[{path:"/",breadcrumbName:u({id:"menu.home"})}].concat((0,ue.Z)(d))},itemRender:function(d,D,N,h){var C=N.indexOf(d)===0;return C?e.createElement(O.rU,{to:h.join("/")},d.breadcrumbName):e.createElement("span",null,d.breadcrumbName)},footerRender:function(){return r.footerRender||r.footerRender===void 0?at:null},menuDataRender:tt,rightContentRender:function(){return e.createElement(we,null)},postMenuData:function(d){return i.current=d||[],d||[]}}),e.createElement(Y.Z,{authority:s.authority,noMatch:et},o)),e.createElement(ge.Z,{settings:r,onSettingChange:function(d){return n({type:"settings/changeSetting",payload:d})}}))},ot=(0,M.$j)(function(m){var a=m.global,n=m.settings;return{collapsed:a.collapsed,settings:n}})(nt)},54200:function(E,H,t){E.exports=t.p+"static/logo.f0355d39.svg"}}]);
