(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[5805],{64069:function(O){O.exports={chartCard:"chartCard___3TM4T",chartTop:"chartTop___3iur-",chartTopMargin:"chartTopMargin___24rCR",chartTopHasMargin:"chartTopHasMargin___3AQNY",metaWrap:"metaWrap___3Nuv1",avatar:"avatar___FoC4K",meta:"meta___1_3lt",action:"action___3uuUN",total:"total___D6PP7",content:"content___yyFJS",contentFixed:"contentFixed___3tZUw",footer:"footer___2Huhb",footerMargin:"footerMargin___38Y2F"}},32513:function(O){O.exports={field:"field___2ZfpN",label:"label___1hOvq",number:"number___2qklC"}},62230:function(O){O.exports={miniProgress:"miniProgress___3yUqh",progressWrap:"progressWrap___30TXc",progress:"progress___1zvIk",target:"target___3JhFm"}},57723:function(O){O.exports={pie:"pie___100kF",chart:"chart___3VSQ_",hasLegend:"hasLegend___1f2RE",legend:"legend___1fksY",dot:"dot___1yQVs",line:"line___30HIM",legendTitle:"legendTitle___3I_bd",percent:"percent___2pnFx",value:"value___WdIUL",title:"title___3-ziG",total:"total___2NcRJ",legendBlock:"legendBlock___K32fb"}},12694:function(O){O.exports={tagCloud:"tagCloud___35SA0"}},69039:function(O){O.exports={timelineChart:"timelineChart___3TShV"}},43853:function(O){O.exports={waterWave:"waterWave___3-6x_",text:"text___dvEDG",waterWaveCanvasWrapper:"waterWaveCanvasWrapper___2uNIJ"}},18759:function(O){O.exports={miniChart:"miniChart___132EF",chartContent:"chartContent___2bnF8",chartLoading:"chartLoading___1MB4M"}},39165:function(O){O.exports={numberInfo:"numberInfo___UaaEB",suffix:"suffix____RiYG",numberInfoTitle:"numberInfoTitle___1p55z",numberInfoSubTitle:"numberInfoSubTitle___3E3Dh",numberInfoValue:"numberInfoValue___87JVx",subTotal:"subTotal___sq0f-",anticon:"anticon___1FWew",numberInfolight:"numberInfolight___YO5rJ"}},51220:function(O){O.exports={trendItem:"trendItem___2dudO",up:"up___1wFiw",down:"down___2tA2-",trendItemGrey:"trendItemGrey___1ksIM",reverseColor:"reverseColor___1BPCV"}},90666:function(O){O.exports={iconGroup:"iconGroup___3RiPi",anticon:"anticon___3NFul",rankingList:"rankingList___2GuWM",rankingItemNumber:"rankingItemNumber___31ZrU",active:"active___3Bsi9",rankingItemTitle:"rankingItemTitle___2Yoy1",salesExtra:"salesExtra___3lIXj",currentDate:"currentDate___7lDDb",salesCard:"salesCard___1Iqf3",salesBar:"salesBar___3JP41",salesRank:"salesRank____67l0",salesCardExtra:"salesCardExtra___1yLFX",salesTypeRadio:"salesTypeRadio___2LyMm",offlineCard:"offlineCard___Oqn6V",trendText:"trendText___3J91q",rankingTitle:"rankingTitle___28H5N",salesExtraWrap:"salesExtraWrap___1k1PZ"}},50504:function(O,me,c){"use strict";c.r(me),c.d(me,{default:function(){return ga}});var fe=c(5317),z=c(87555),_=c(52222),R=c(65507),w=c(19597),Z=c(2291),U=c(37482),A=c(3810),M=c(60360),j=c(66646),D=c(65353),T=c(18604),$=c(44545),e=c(67294),P=c(26388),d=c(23715),I=c(56051),g=c.n(I);function y(x){return x*1<10?"0".concat(x):x}function v(x){var a=new Date,i=1e3*60*60*24;if(x==="today")return a.setHours(0),a.setMinutes(0),a.setSeconds(0),[g()(a),g()(a.getTime()+(i-1e3))];if(x==="week"){var t=a.getDay();a.setHours(0),a.setMinutes(0),a.setSeconds(0),t===0?t=6:t-=1;var n=a.getTime()-t*i;return[g()(n),g()(n+(7*i-1e3))]}var u=a.getFullYear();if(x==="month"){var l=a.getMonth(),s=g()(a).add(1,"months"),o=s.year(),h=s.month();return[g()("".concat(u,"-").concat(y(l+1),"-01 00:00:00")),g()(g()("".concat(o,"-").concat(y(h+1),"-01 00:00:00")).valueOf()-1e3)]}return[g()("".concat(u,"-01-01 00:00:00")),g()("".concat(u,"-12-31 23:59:59"))]}var p=c(90666),r=c.n(p),E=c(81984),b=c(82692),H=c(68628),X=c(88348),V=c.n(X),f=c(63012),Q=c(59686),ee=c.n(Q),ve=c(13378);function qe(x){var a=x.style;a.height="100%";var i=parseInt("".concat(getComputedStyle(x).height),10),t=parseInt("".concat(getComputedStyle(x).paddingTop),10)+parseInt("".concat(getComputedStyle(x).paddingBottom),10);return i-t}function et(x){if(!x)return 0;var a=x,i=qe(a),t=a.parentNode;return t&&(i=qe(t)),i}function mt(){return function(x){var a=function(i){(0,D.Z)(n,i);var t=(0,T.Z)(n);function n(){var u;(0,M.Z)(this,n);for(var l=arguments.length,s=new Array(l),o=0;o<l;o++)s[o]=arguments[o];return u=t.call.apply(t,[this].concat(s)),u.state={computedHeight:0},u.root=void 0,u.handleRoot=function(h){u.root=h},u}return(0,j.Z)(n,[{key:"componentDidMount",value:function(){var l=this.props.height;if(!l){var s=et(this.root);this.setState({computedHeight:s}),s<1&&(s=et(this.root),this.setState({computedHeight:s}))}}},{key:"render",value:function(){var l=this.props.height,s=this.state.computedHeight,o=l||s;return e.createElement("div",{ref:this.handleRoot},o>0&&e.createElement(x,(0,ve.Z)({},this.props,{height:o})))}}]),n}(e.Component);return a}}var le=mt,ft=c(18759),Te=c.n(ft),vt=function(x){(0,D.Z)(i,x);var a=(0,T.Z)(i);function i(){var t;(0,M.Z)(this,i);for(var n=arguments.length,u=new Array(n),l=0;l<n;l++)u[l]=arguments[l];return t=a.call.apply(a,[this].concat(u)),t.state={autoHideXLabels:!1},t.root=void 0,t.node=void 0,t.resize=ee()(function(){if(!(!t.node||!t.node.parentNode)){var s=t.node.parentNode.clientWidth,o=t.props,h=o.data,C=h===void 0?[]:h,S=o.autoLabel,m=S===void 0?!0:S;if(!!m){var W=C.length*30,N=t.state.autoHideXLabels;s<=W?N||t.setState({autoHideXLabels:!0}):N&&t.setState({autoHideXLabels:!1})}}},500),t.handleRoot=function(s){t.root=s},t.handleRef=function(s){t.node=s},t}return(0,j.Z)(i,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize,{passive:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var n=this.props,u=n.height,l=u===void 0?1:u,s=n.title,o=n.forceFit,h=o===void 0?!0:o,C=n.data,S=n.color,m=S===void 0?"rgba(24, 144, 255, 0.85)":S,W=n.padding,N=this.state.autoHideXLabels,k={x:{type:"cat"},y:{min:0}},B=["x*y",function(Y,G){return{name:Y,value:G}}];return e.createElement("div",{className:Te().chart,style:{height:l},ref:this.handleRoot},e.createElement("div",{ref:this.handleRef},s&&e.createElement("h4",{style:{marginBottom:20}},s),e.createElement(f.Chart,{scale:k,height:s?l-41:l,forceFit:h,data:C,padding:W||"auto"},e.createElement(f.Axis,{name:"x",title:!1,label:N?void 0:{},tickLine:N?void 0:{}}),e.createElement(f.Axis,{name:"y",min:0}),e.createElement(f.Tooltip,{showTitle:!1,crosshairs:!1}),e.createElement(f.Geom,{type:"interval",position:"x*y",color:m,tooltip:B}))))}}]),i}(e.Component),Be=le()(vt),Ea=c(12399),Se=c(82404),Ne=c(3911),ge=c(99463),gt=c(35510),xe=c.n(gt),pt=c(64069),q=c.n(pt),yt=function(a){if(!a&&a!==0)return null;var i;switch(typeof a){case"undefined":i=null;break;case"function":i=e.createElement("div",{className:q().total},a());break;default:i=e.createElement("div",{className:q().total},a)}return i},Et=function(x){(0,D.Z)(i,x);var a=(0,T.Z)(i);function i(){var t;(0,M.Z)(this,i);for(var n=arguments.length,u=new Array(n),l=0;l<n;l++)u[l]=arguments[l];return t=a.call.apply(a,[this].concat(u)),t.renderContent=function(){var s=t.props,o=s.contentHeight,h=s.title,C=s.avatar,S=s.action,m=s.total,W=s.footer,N=s.children,k=s.loading;return k?!1:e.createElement("div",{className:q().chartCard},e.createElement("div",{className:xe()(q().chartTop,(0,ge.Z)({},q().chartTopMargin,!N&&!W))},e.createElement("div",{className:q().avatar},C),e.createElement("div",{className:q().metaWrap},e.createElement("div",{className:q().meta},e.createElement("span",{className:q().title},h),e.createElement("span",{className:q().action},S)),yt(m))),N&&e.createElement("div",{className:q().content,style:{height:o||"auto"}},e.createElement("div",{className:o&&q().contentFixed},N)),W&&e.createElement("div",{className:xe()(q().footer,(0,ge.Z)({},q().footerMargin,!N))},W))},t}return(0,j.Z)(i,[{key:"render",value:function(){var n=this.props,u=n.loading,l=u===void 0?!1:u,s=n.contentHeight,o=n.title,h=n.avatar,C=n.action,S=n.total,m=n.footer,W=n.children,N=(0,Ne.Z)(n,["loading","contentHeight","title","avatar","action","total","footer","children"]);return e.createElement(Se.Z,(0,ve.Z)({loading:l,bodyStyle:{padding:"20px 24px 8px 24px"}},N),this.renderContent())}}]),i}(e.Component),Me=Et,xt=c(32513),Ge=c.n(xt),Ct=function(a){var i=a.label,t=a.value,n=(0,Ne.Z)(a,["label","value"]);return e.createElement("div",(0,ve.Z)({className:Ge().field},n),e.createElement("span",{className:Ge().label},i),e.createElement("span",{className:Ge().number},t))},Pe=Ct,tt=f.Guide.Arc,bt=f.Guide.Html,Ue=f.Guide.Line,Tt=function(a){switch(a){case"2":return"\u5DEE";case"4":return"\u4E2D";case"6":return"\u826F";case"8":return"\u4F18";default:return""}};f.Shape.registerShape&&f.Shape.registerShape("point","pointer",{drawShape:function(a,i){var t=a.points[0];t=this.parsePoint(t);var n=this.parsePoint({x:0,y:0});return i.addShape("line",{attrs:{x1:n.x,y1:n.y,x2:t.x,y2:t.y,stroke:a.color,lineWidth:2,lineCap:"round"}}),i.addShape("circle",{attrs:{x:n.x,y:n.y,r:6,stroke:a.color,lineWidth:3,fill:"#fff"}})}});for(var St=function(a){var i=a.title,t=a.height,n=t===void 0?1:t,u=a.percent,l=a.forceFit,s=l===void 0?!0:l,o=a.formatter,h=o===void 0?Tt:o,C=a.color,S=C===void 0?"#2F9CFF":C,m=a.bgColor,W=m===void 0?"#F0F2F5":m,N={value:{type:"linear",min:0,max:10,tickCount:6,nice:!0}},k=[{value:u/10}],B=function(){return`
    <div style="width: 300px;text-align: center;font-size: 12px!important;">
      <div style="font-size: 14px; color: rgba(0,0,0,0.43);margin: 0;">`.concat(i,`</div>
      <div style="font-size: 24px;color: rgba(0,0,0,0.85);margin: 0;">
        `).concat((k[0].value*10).toFixed(2),`%
      </div>
    </div>`)},Y={fontSize:12,fill:"rgba(0, 0, 0, 0.65)",textAlign:"center"};return e.createElement(f.Chart,{height:n,data:k,scale:N,padding:[-16,0,16,0],forceFit:s},e.createElement(f.Coord,{type:"polar",startAngle:-1.25*Math.PI,endAngle:.25*Math.PI,radius:.8}),e.createElement(f.Axis,{name:"1",line:void 0}),e.createElement(f.Axis,{line:void 0,tickLine:void 0,subTickLine:void 0,name:"value",zIndex:2,label:{offset:-12,formatter:h,textStyle:Y}}),e.createElement(f.Guide,null,e.createElement(Ue,{start:[3,.905],end:[3,.85],lineStyle:{stroke:S,lineDash:void 0,lineWidth:2}}),e.createElement(Ue,{start:[5,.905],end:[5,.85],lineStyle:{stroke:S,lineDash:void 0,lineWidth:3}}),e.createElement(Ue,{start:[7,.905],end:[7,.85],lineStyle:{stroke:S,lineDash:void 0,lineWidth:3}}),e.createElement(tt,{start:[0,.965],end:[10,.965],style:{stroke:W,lineWidth:10}}),e.createElement(tt,{start:[0,.965],end:[k[0].value,.965],style:{stroke:S,lineWidth:10}}),e.createElement(bt,{position:["50%","95%"],html:B()})),e.createElement(f.Geom,{line:!1,type:"point",position:"value*1",shape:"pointer",color:S,active:!1}))},Mt=le()(St),pe=c(56361),Dt=function(a){var i=a.height,t=i===void 0?1:i,n=a.data,u=n===void 0?[]:n,l=a.forceFit,s=l===void 0?!0:l,o=a.color,h=o===void 0?"rgba(24, 144, 255, 0.2)":o,C=a.borderColor,S=C===void 0?"#1089ff":C,m=a.scale,W=m===void 0?{x:{},y:{}}:m,N=a.borderWidth,k=N===void 0?2:N,B=a.line,Y=a.xAxis,G=a.yAxis,K=a.animate,F=K===void 0?!0:K,L=[36,5,30,5],J={x:(0,pe.Z)({type:"cat",range:[0,1]},W.x),y:(0,pe.Z)({min:0},W.y)},ne=["x*y",function(Ee,se){return{name:Ee,value:se}}],ie=t+54;return e.createElement("div",{className:Te().miniChart,style:{height:t}},e.createElement("div",{className:Te().chartContent},t>0&&e.createElement(f.Chart,{animate:F,scale:J,height:ie,forceFit:s,data:u,padding:L},e.createElement(f.Axis,(0,ve.Z)({key:"axis-x",name:"x",label:null,line:null,tickLine:null,grid:null},Y)),e.createElement(f.Axis,(0,ve.Z)({key:"axis-y",name:"y",label:null,line:null,tickLine:null,grid:null},G)),e.createElement(f.Tooltip,{showTitle:!1,crosshairs:!1}),e.createElement(f.Geom,{type:"area",position:"x*y",color:h,tooltip:ne,shape:"smooth",style:{fillOpacity:1}}),B?e.createElement(f.Geom,{type:"line",position:"x*y",shape:"smooth",color:S,size:k,tooltip:!1}):e.createElement("span",{style:{display:"none"}}))))},ke=le()(Dt),Zt=function(a){var i=a.height,t=i===void 0?0:i,n=a.forceFit,u=n===void 0?!0:n,l=a.color,s=l===void 0?"#1890FF":l,o=a.data,h=o===void 0?[]:o,C={x:{type:"cat"},y:{min:0}},S=[36,5,30,5],m=["x*y",function(N,k){return{name:N,value:k}}],W=t+54;return e.createElement("div",{className:Te().miniChart,style:{height:t}},e.createElement("div",{className:Te().chartContent},e.createElement(f.Chart,{scale:C,height:W,forceFit:u,data:h,padding:S},e.createElement(f.Tooltip,{showTitle:!1,crosshairs:!1}),e.createElement(f.Geom,{type:"interval",position:"x*y",color:s,tooltip:m}))))},at=le()(Zt),wt=c(62230),Re=c.n(wt),Ht=function(a){var i=a.targetLabel,t=a.target,n=a.color,u=n===void 0?"rgb(19, 194, 194)":n,l=a.strokeWidth,s=a.percent;return e.createElement("div",{className:Re().miniProgress},e.createElement(b.Z,{title:i},e.createElement("div",{className:Re().target,style:{left:t?"".concat(t,"%"):void 0}},e.createElement("span",{style:{backgroundColor:u||void 0}}),e.createElement("span",{style:{backgroundColor:u||void 0}}))),e.createElement("div",{className:Re().progressWrap},e.createElement("div",{className:Re().progress,style:{backgroundColor:u||void 0,width:s?"".concat(s,"%"):void 0,height:l||void 0}})))},nt=Ht,xa=c(77111),Nt=c(49194),rt=c(27479),it=c.n(rt),Pt=c(47136),kt=c.n(Pt),Rt=c(57723),ae=c.n(Rt),At=function(x){(0,D.Z)(i,x);var a=(0,T.Z)(i);function i(){var t;(0,M.Z)(this,i);for(var n=arguments.length,u=new Array(n),l=0;l<n;l++)u[l]=arguments[l];return t=a.call.apply(a,[this].concat(u)),t.state={legendData:[],legendBlock:!1},t.requestRef=void 0,t.root=void 0,t.chart=void 0,t.resize=ee()(function(){var s=t.props.hasLegend,o=t.state.legendBlock;if(!s||!t.root){window.removeEventListener("resize",t.resize);return}t.root&&t.root.parentNode&&t.root.parentNode.clientWidth<=380?o||t.setState({legendBlock:!0}):o&&t.setState({legendBlock:!1})},400),t.getG2Instance=function(s){t.chart=s,requestAnimationFrame(function(){t.getLegendData(),t.resize()})},t.getLegendData=function(){if(!!t.chart){var s=t.chart.getAllGeoms()[0];if(!!s){var o=s.get("dataArray")||[],h=o.map(function(C){var S=C[0]._origin;return S.color=C[0].color,S.checked=!0,S});t.setState({legendData:h})}}},t.handleRoot=function(s){t.root=s},t.handleLegendClick=function(s,o){var h=s;h.checked=!h.checked;var C=t.state.legendData;C[o]=h;var S=C.filter(function(m){return m.checked}).map(function(m){return m.x});t.chart&&t.chart.filter("x",function(m){return S.indexOf("".concat(m))>-1}),t.setState({legendData:C})},t}return(0,j.Z)(i,[{key:"componentDidMount",value:function(){var n=this;window.addEventListener("resize",function(){n.requestRef=requestAnimationFrame(function(){return n.resize()})},{passive:!0})}},{key:"componentDidUpdate",value:function(n){var u=this.props.data;u!==n.data&&this.getLegendData()}},{key:"componentWillUnmount",value:function(){this.requestRef&&window.cancelAnimationFrame(this.requestRef),window.removeEventListener("resize",this.resize),this.resize&&this.resize.cancel()}},{key:"render",value:function(){var n,u=this,l=this.props,s=l.valueFormat,o=l.subTitle,h=l.total,C=l.hasLegend,S=C===void 0?!1:C,m=l.className,W=l.style,N=l.height,k=N===void 0?0:N,B=l.forceFit,Y=B===void 0?!0:B,G=l.percent,K=l.color,F=l.inner,L=F===void 0?.75:F,J=l.animate,ne=J===void 0?!0:J,ie=l.colors,Ee=l.lineWidth,se=Ee===void 0?1:Ee,Ce=this.state,_e=Ce.legendData,Le=Ce.legendBlock,be=xe()(ae().pie,m,(n={},(0,ge.Z)(n,ae().hasLegend,!!S),(0,ge.Z)(n,ae().legendBlock,Le),n)),oe=this.props,Qe=oe.data,Oe=oe.selected,ze=Oe===void 0?!0:Oe,de=oe.tooltip,ce=de===void 0?!0:de,ue=Qe||[],he=ze,re=ce,$e=ie;ue=ue||[],he=he||!0,re=re||!0;var Ze,we={x:{type:"cat",range:[0,1]},y:{min:0}};(G||G===0)&&(he=!1,re=!1,Ze=function(He){return He==="\u5360\u6BD4"?K||"rgba(24, 144, 255, 0.85)":"#F0F2F5"},ue=[{x:"\u5360\u6BD4",y:parseFloat("".concat(G))},{x:"\u53CD\u6BD4",y:100-parseFloat("".concat(G))}]);var pa=["x*percent",function(te,He){return{name:te,value:"".concat((He*100).toFixed(2),"%")}}],ya=[12,0,12,0],ht=new rt.DataView;return ht.source(ue).transform({type:"percent",field:"y",dimension:"x",as:"percent"}),e.createElement("div",{ref:this.handleRoot,className:be,style:W},e.createElement(kt(),{maxFontSize:25},e.createElement("div",{className:ae().chart},e.createElement(f.Chart,{scale:we,height:k,forceFit:Y,data:ht,padding:ya,animate:ne,onGetG2Instance:this.getG2Instance},!!re&&e.createElement(f.Tooltip,{showTitle:!1}),e.createElement(f.Coord,{type:"theta",innerRadius:L}),e.createElement(f.Geom,{style:{lineWidth:se,stroke:"#fff"},tooltip:re?pa:void 0,type:"intervalStack",position:"percent",color:["x",G||G===0?Ze:$e],selected:he})),(o||h)&&e.createElement("div",{className:ae().total},o&&e.createElement("h4",{className:"pie-sub-title"},o),h&&e.createElement("div",{className:"pie-stat"},typeof h=="function"?h():h)))),S&&e.createElement("ul",{className:ae().legend},_e.map(function(te,He){return e.createElement("li",{key:te.x,onClick:function(){return u.handleLegendClick(te,He)}},e.createElement("span",{className:ae().dot,style:{backgroundColor:te.checked?te.color:"#aaa"}}),e.createElement("span",{className:ae().legendTitle},te.x),e.createElement(Nt.Z,{type:"vertical"}),e.createElement("span",{className:ae().percent},"".concat((Number.isNaN(te.percent)?0:te.percent*100).toFixed(2),"%")),e.createElement("span",{className:ae().value},s?s(te.y):te.y))})))}}]),i}(e.Component),Ve=le()(At),Ft=c(44742),Wt=c(12694),It=c.n(Wt),_t="https://gw.alipayobjects.com/zos/rmsportal/gWyeGLCdFFRavBGIDzWk.png",Lt=function(x){(0,D.Z)(i,x);var a=(0,T.Z)(i);function i(){var t;(0,M.Z)(this,i);for(var n=arguments.length,u=new Array(n),l=0;l<n;l++)u[l]=arguments[l];return t=a.call.apply(a,[this].concat(u)),t.state={dv:null,height:0,width:0},t.isUnmount=!1,t.requestRef=0,t.root=void 0,t.imageMask=void 0,t.resize=function(){t.requestRef=requestAnimationFrame(function(){t.renderChart(t.props)})},t.saveRootRef=function(s){t.root=s},t.initTagCloud=function(){function s(o){return(0,pe.Z)((0,pe.Z)({},o.style),{},{fillOpacity:o.opacity,fontSize:o.origin._origin.size,rotate:o.origin._origin.rotate,text:o.origin._origin.text,textAlign:"center",fontFamily:o.origin._origin.font,fill:o.color,textBaseline:"Alphabetic"})}f.Shape.registerShape("point","cloud",{drawShape:function(h,C){var S=s(h);return C.addShape("text",{attrs:(0,pe.Z)((0,pe.Z)({},S),{},{x:h.x,y:h.y})})}})},t.renderChart=ee()(function(s){var o=s||t.props,h=o.data,C=o.height;if(!(h.length<1||!t.root)){var S=C,m=t.root.offsetWidth,W=function(){var k=new(it()).View().source(h),B=k.range("value"),Y=(0,Ft.Z)(B,2),G=Y[0],K=Y[1];k.transform({type:"tag-cloud",fields:["name","value"],imageMask:t.imageMask,font:"Verdana",size:[m,S],padding:0,timeInterval:5e3,rotate:function(){return 0},fontSize:function(L){var J=Math.pow((L.value-G)/(K-G),2);return J*(17.5-5)+5}}),!t.isUnmount&&t.setState({dv:k,width:m,height:S})};t.imageMask?W():(t.imageMask=new Image,t.imageMask.crossOrigin="",t.imageMask.src=_t,t.imageMask.onload=W)}},500),t}return(0,j.Z)(i,[{key:"componentDidMount",value:function(){var n=this;requestAnimationFrame(function(){n.initTagCloud(),n.renderChart(n.props)}),window.addEventListener("resize",this.resize,{passive:!0})}},{key:"componentDidUpdate",value:function(n){var u=this.props.data;n&&JSON.stringify(n.data)!==JSON.stringify(u)&&this.renderChart(this.props)}},{key:"componentWillUnmount",value:function(){this.isUnmount=!0,window.cancelAnimationFrame(this.requestRef),window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var n=this.props,u=n.className,l=n.height,s=this.state,o=s.dv,h=s.width,C=s.height;return e.createElement("div",{className:xe()(It().tagCloud,u),style:{width:"100%",height:l},ref:this.saveRootRef},o&&e.createElement(f.Chart,{width:h,height:C,data:o,padding:0,scale:{x:{nice:!1},y:{nice:!1}}},e.createElement(f.Tooltip,{showTitle:!1}),e.createElement(f.Coord,{reflect:"y"}),e.createElement(f.Geom,{type:"point",position:"x*y",color:"text",shape:"cloud",tooltip:["text*value",function(m,W){return{name:m,value:W}}]})))}}]),i}(e.Component),Ot=le()(Lt),st=c(50189),zt=c(37160),$t=c.n(zt),Bt=c(69039),Gt=c.n(Bt),Ut=function(a){var i=a.title,t=a.height,n=t===void 0?400:t,u=a.padding,l=u===void 0?[60,20,40,40]:u,s=a.titleMap,o=s===void 0?{y1:"y1",y2:"y2"}:s,h=a.borderWidth,C=h===void 0?2:h,S=a.data,m=Array.isArray(S)?S:[{x:0,y1:0,y2:0}];m.sort(function(K,F){return K.x-F.x});var W;m[0]&&m[0].y1&&m[0].y2&&(W=Math.max((0,st.Z)(m).sort(function(K,F){return F.y1-K.y1})[0].y1,(0,st.Z)(m).sort(function(K,F){return F.y2-K.y2})[0].y2));var N=new(it())({state:{start:m[0].x,end:m[m.length-1].x}}),k=N.createView();k.source(m).transform({type:"filter",callback:function(F){var L=F.x;return L<=N.state.end&&L>=N.state.start}}).transform({type:"map",callback:function(F){var L=(0,pe.Z)({},F);return L[o.y1]=F.y1,L[o.y2]=F.y2,L}}).transform({type:"fold",fields:[o.y1,o.y2],key:"key",value:"value"});var B={type:"time",tickInterval:60*60*1e3,mask:"HH:mm",range:[0,1]},Y={x:B,value:{max:W,min:0}},G=function(){return e.createElement($t(),{padding:[0,l[1]+20,0,l[3]],width:"auto",height:26,xAxis:"x",yAxis:"y1",scales:{x:B},data:m,start:N.state.start,end:N.state.end,backgroundChart:{type:"line"},onChange:function(L){var J=L.startValue,ne=L.endValue;N.setState("start",J),N.setState("end",ne)}})};return e.createElement("div",{className:Gt().timelineChart,style:{height:n+30}},e.createElement("div",null,i&&e.createElement("h4",null,i),e.createElement(f.Chart,{height:n,padding:l,data:k,scale:Y,forceFit:!0},e.createElement(f.Axis,{name:"x"}),e.createElement(f.Tooltip,null),e.createElement(f.Legend,{name:"key",position:"top"}),e.createElement(f.Geom,{type:"line",position:"x*value",size:C,color:"key"})),e.createElement("div",{style:{marginRight:-20}},e.createElement(G,null))))},lt=le()(Ut),Vt=c(43853),je=c.n(Vt),jt=function(x){(0,D.Z)(i,x);var a=(0,T.Z)(i);function i(){var t;(0,M.Z)(this,i);for(var n=arguments.length,u=new Array(n),l=0;l<n;l++)u[l]=arguments[l];return t=a.call.apply(a,[this].concat(u)),t.state={radio:1},t.timer=0,t.root=null,t.node=null,t.resize=function(){if(t.root){var s=t.props.height,o=s===void 0?1:s,h=t.root.parentNode.offsetWidth;t.setState({radio:h<o?h/o:1})}},t}return(0,j.Z)(i,[{key:"componentDidMount",value:function(){var n=this;this.renderChart(),this.resize(),window.addEventListener("resize",function(){requestAnimationFrame(function(){return n.resize()})},{passive:!0})}},{key:"componentDidUpdate",value:function(n){var u=this.props.percent;n.percent!==u&&this.renderChart("update")}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.timer),this.node&&(this.node.innerHTML=""),window.removeEventListener("resize",this.resize)}},{key:"renderChart",value:function(n){var u=this,l=this.props,s=l.percent,o=l.color,h=o===void 0?"#1890FF":o,C=s/100;if(cancelAnimationFrame(this.timer),!(!this.node||C!==0&&!C)){var S=this.node,m=S.getContext("2d");if(!!m){var W=S.width,N=S.height,k=W/2,B=2,Y=k-B;m.beginPath(),m.lineWidth=B*2;for(var G=W-B,K=G/8,F=.2,L=F,J=B,ne=0,ie=0,Ee=.005,se=[],Ce=k-B,_e=-(Math.PI/2),Le=!0,be=_e;be<_e+2*Math.PI;be+=1/(8*Math.PI))se.push([k+Ce*Math.cos(be),k+Ce*Math.sin(be)]);var oe=se.shift();m.strokeStyle=h,m.moveTo(oe[0],oe[1]);var Qe=function(){if(!!m){m.beginPath(),m.save();for(var de=[],ce=J;ce<=J+G;ce+=20/G){var ue=ne+(J+ce)/K,he=Math.sin(ue)*L,re=ce,$e=2*Y*(1-ie)+(k-Y)-K*he;m.lineTo(re,$e),de.push([re,$e])}var Ze=de.shift();m.lineTo(J+G,N),m.lineTo(J,N),m.lineTo(Ze[0],Ze[1]);var we=m.createLinearGradient(0,0,0,N);we.addColorStop(0,"#ffffff"),we.addColorStop(1,h),m.fillStyle=we,m.fill(),m.restore()}},Oe=function ze(){if(!!m){if(m.clearRect(0,0,W,N),Le&&n!=="update")if(se.length){var de=se.shift();m.lineTo(de[0],de[1]),m.stroke()}else Le=!1,m.lineTo(oe[0],oe[1]),m.stroke(),se=[],m.globalCompositeOperation="destination-over",m.beginPath(),m.lineWidth=B,m.arc(k,k,Ce,0,2*Math.PI,!0),m.beginPath(),m.save(),m.arc(k,k,k-3*B,0,2*Math.PI,!0),m.restore(),m.clip(),m.fillStyle=h;else{if(C>=.85){if(L>F/4){var ce=F*.01;L-=ce}}else if(C<=.1){if(L<F*1.5){var ue=F*.01;L+=ue}}else{if(L<=F){var he=F*.01;L+=he}if(L>=F){var re=F*.01;L-=re}}C-ie>0&&(ie+=Ee),C-ie<0&&(ie-=Ee),ne+=.07,Qe()}u.timer=requestAnimationFrame(ze)}};Oe()}}}},{key:"render",value:function(){var n=this,u=this.state.radio,l=this.props,s=l.percent,o=l.title,h=l.height,C=h===void 0?1:h;return e.createElement("div",{className:je().waterWave,ref:function(m){return n.root=m},style:{transform:"scale(".concat(u,")")}},e.createElement("div",{style:{width:C,height:C,overflow:"hidden"}},e.createElement("canvas",{className:je().waterWaveCanvasWrapper,ref:function(m){return n.node=m},width:C*2,height:C*2})),e.createElement("div",{className:je().text,style:{width:C}},o&&e.createElement("span",null,o),e.createElement("h4",null,s,"%")))}}]),i}(e.Component),Kt=le()(jt),ot=function(a){return"\xA5 ".concat(V()(a).format("0,0"))},Ca={yuan:ot,Bar:Be,Pie:Ve,Gauge:Mt,MiniBar:at,MiniArea:ke,MiniProgress:nt,ChartCard:Me,Field:Pe,WaterWave:Kt,TagCloud:Ot,TimelineChart:lt},dt=c(28612),ct=c(19675),Xt=c(51220),Ae=c.n(Xt),Yt=function(a){var i,t=a.colorful,n=t===void 0?!0:t,u=a.reverseColor,l=u===void 0?!1:u,s=a.flag,o=a.children,h=a.className,C=(0,Ne.Z)(a,["colorful","reverseColor","flag","children","className"]),S=xe()(Ae().trendItem,(i={},(0,ge.Z)(i,Ae().trendItemGrey,!n),(0,ge.Z)(i,Ae().reverseColor,l&&n),i),h);return e.createElement("div",(0,ve.Z)({},C,{className:S,title:typeof o=="string"?o:""}),e.createElement("span",null,o),s&&e.createElement("span",{className:Ae()[s]},s==="up"?e.createElement(dt.Z,null):e.createElement(ct.Z,null)))},De=Yt,Ke=function(x){(0,D.Z)(i,x);var a=(0,T.Z)(i);function i(){var t;(0,M.Z)(this,i);for(var n=arguments.length,u=new Array(n),l=0;l<n;l++)u[l]=arguments[l];return t=a.call.apply(a,[this].concat(u)),t.main=null,t.renderToHtml=function(){var s=t.props.children;t.main&&(t.main.innerHTML=ot(s))},t}return(0,j.Z)(i,[{key:"componentDidMount",value:function(){this.renderToHtml()}},{key:"componentDidUpdate",value:function(){this.renderToHtml()}},{key:"render",value:function(){var n=this;return e.createElement("span",{ref:function(l){n.main=l}})}}]),i}(e.Component),Fe={xs:24,sm:12,md:12,lg:12,xl:6,style:{marginBottom:24}},Jt=function(a){var i=a.loading,t=a.visitData;return e.createElement(z.Z,{gutter:24},e.createElement(R.Z,Fe,e.createElement(Me,{bordered:!1,title:e.createElement(d._H,{id:"dashboardandanalysis.analysis.total-sales",defaultMessage:"Total Sales"}),action:e.createElement(b.Z,{title:e.createElement(d._H,{id:"dashboardandanalysis.analysis.introduce",defaultMessage:"Introduce"})},e.createElement(H.Z,null)),loading:i,total:function(){return e.createElement(Ke,null,"126560")},footer:e.createElement(Pe,{label:e.createElement(d._H,{id:"dashboardandanalysis.analysis.day-sales",defaultMessage:"Daily Sales"}),value:"\uFFE5".concat(V()(12423).format("0,0"))}),contentHeight:46},e.createElement(De,{flag:"up",style:{marginRight:16}},e.createElement(d._H,{id:"dashboardandanalysis.analysis.week",defaultMessage:"Weekly Changes"}),e.createElement("span",{className:r().trendText},"12%")),e.createElement(De,{flag:"down"},e.createElement(d._H,{id:"dashboardandanalysis.analysis.day",defaultMessage:"Daily Changes"}),e.createElement("span",{className:r().trendText},"11%")))),e.createElement(R.Z,Fe,e.createElement(Me,{bordered:!1,loading:i,title:e.createElement(d._H,{id:"dashboardandanalysis.analysis.visits",defaultMessage:"Visits"}),action:e.createElement(b.Z,{title:e.createElement(d._H,{id:"dashboardandanalysis.analysis.introduce",defaultMessage:"Introduce"})},e.createElement(H.Z,null)),total:V()(8846).format("0,0"),footer:e.createElement(Pe,{label:e.createElement(d._H,{id:"dashboardandanalysis.analysis.day-visits",defaultMessage:"Daily Visits"}),value:V()(1234).format("0,0")}),contentHeight:46},e.createElement(ke,{color:"#975FE4",data:t}))),e.createElement(R.Z,Fe,e.createElement(Me,{bordered:!1,loading:i,title:e.createElement(d._H,{id:"dashboardandanalysis.analysis.payments",defaultMessage:"Payments"}),action:e.createElement(b.Z,{title:e.createElement(d._H,{id:"dashboardandanalysis.analysis.introduce",defaultMessage:"Introduce"})},e.createElement(H.Z,null)),total:V()(6560).format("0,0"),footer:e.createElement(Pe,{label:e.createElement(d._H,{id:"dashboardandanalysis.analysis.conversion-rate",defaultMessage:"Conversion Rate"}),value:"60%"}),contentHeight:46},e.createElement(at,{data:t}))),e.createElement(R.Z,Fe,e.createElement(Me,{loading:i,bordered:!1,title:e.createElement(d._H,{id:"dashboardandanalysis.analysis.operational-effect",defaultMessage:"Operational Effect"}),action:e.createElement(b.Z,{title:e.createElement(d._H,{id:"dashboardandanalysis.analysis.introduce",defaultMessage:"Introduce"})},e.createElement(H.Z,null)),total:"78%",footer:e.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden"}},e.createElement(De,{flag:"up",style:{marginRight:16}},e.createElement(d._H,{id:"dashboardandanalysis.analysis.week",defaultMessage:"Weekly Changes"}),e.createElement("span",{className:r().trendText},"12%")),e.createElement(De,{flag:"down"},e.createElement(d._H,{id:"dashboardandanalysis.analysis.day",defaultMessage:"Weekly Changes"}),e.createElement("span",{className:r().trendText},"11%"))),contentHeight:46},e.createElement(nt,{percent:78,strokeWidth:8,target:80,color:"#13C2C2"}))))},Qt=Jt,ba=c(84786),We=c(52311),Ta=c(74393),qt=c(32703),ea=qt.Z.RangePicker,ut=We.Z.TabPane,Xe=[],Ye=0;Ye<7;Ye+=1)Xe.push({title:(0,d.wv)({id:"dashboardandanalysis.analysis.test"},{no:Ye}),total:323234});var ta=function(a){var i=a.rangePickerValue,t=a.salesData,n=a.isActive,u=a.handleRangePickerChange,l=a.loading,s=a.selectDate;return e.createElement(Se.Z,{loading:l,bordered:!1,bodyStyle:{padding:0}},e.createElement("div",{className:r().salesCard},e.createElement(We.Z,{tabBarExtraContent:e.createElement("div",{className:r().salesExtraWrap},e.createElement("div",{className:r().salesExtra},e.createElement("a",{className:n("today"),onClick:function(){return s("today")}},e.createElement(d._H,{id:"dashboardandanalysis.analysis.all-day",defaultMessage:"All Day"})),e.createElement("a",{className:n("week"),onClick:function(){return s("week")}},e.createElement(d._H,{id:"dashboardandanalysis.analysis.all-week",defaultMessage:"All Week"})),e.createElement("a",{className:n("month"),onClick:function(){return s("month")}},e.createElement(d._H,{id:"dashboardandanalysis.analysis.all-month",defaultMessage:"All Month"})),e.createElement("a",{className:n("year"),onClick:function(){return s("year")}},e.createElement(d._H,{id:"dashboardandanalysis.analysis.all-year",defaultMessage:"All Year"}))),e.createElement(ea,{value:i,onChange:u,style:{width:256}})),size:"large",tabBarStyle:{marginBottom:24}},e.createElement(ut,{tab:e.createElement(d._H,{id:"dashboardandanalysis.analysis.sales",defaultMessage:"Sales"}),key:"sales"},e.createElement(z.Z,null,e.createElement(R.Z,{xl:16,lg:12,md:12,sm:24,xs:24},e.createElement("div",{className:r().salesBar},e.createElement(Be,{height:295,title:e.createElement(d._H,{id:"dashboardandanalysis.analysis.sales-trend",defaultMessage:"Sales Trend"}),data:t}))),e.createElement(R.Z,{xl:8,lg:12,md:12,sm:24,xs:24},e.createElement("div",{className:r().salesRank},e.createElement("h4",{className:r().rankingTitle},e.createElement(d._H,{id:"dashboardandanalysis.analysis.sales-ranking",defaultMessage:"Sales Ranking"})),e.createElement("ul",{className:r().rankingList},Xe.map(function(o,h){return e.createElement("li",{key:o.title},e.createElement("span",{className:"".concat(r().rankingItemNumber," ").concat(h<3?r().active:"")},h+1),e.createElement("span",{className:r().rankingItemTitle,title:o.title},o.title),e.createElement("span",{className:r().rankingItemValue},V()(o.total).format("0,0")))})))))),e.createElement(ut,{tab:e.createElement(d._H,{id:"dashboardandanalysis.analysis.visits",defaultMessage:"Visits"}),key:"views"},e.createElement(z.Z,null,e.createElement(R.Z,{xl:16,lg:12,md:12,sm:24,xs:24},e.createElement("div",{className:r().salesBar},e.createElement(Be,{height:292,title:e.createElement(d._H,{id:"dashboardandanalysis.analysis.visits-trend",defaultMessage:"Visits Trend"}),data:t}))),e.createElement(R.Z,{xl:8,lg:12,md:12,sm:24,xs:24},e.createElement("div",{className:r().salesRank},e.createElement("h4",{className:r().rankingTitle},e.createElement(d._H,{id:"dashboardandanalysis.analysis.visits-ranking",defaultMessage:"Visits Ranking"})),e.createElement("ul",{className:r().rankingList},Xe.map(function(o,h){return e.createElement("li",{key:o.title},e.createElement("span",{className:"".concat(r().rankingItemNumber," ").concat(h<3?r().active:"")},h+1),e.createElement("span",{className:r().rankingItemTitle,title:o.title},o.title),e.createElement("span",null,V()(o.total).format("0,0")))})))))))))},aa=ta,Sa=c(36805),na=c(86305),ra=c(39165),ye=c.n(ra),ia=function(a){var i=a.theme,t=a.title,n=a.subTitle,u=a.total,l=a.subTotal,s=a.status,o=a.suffix,h=a.gap,C=(0,Ne.Z)(a,["theme","title","subTitle","total","subTotal","status","suffix","gap"]);return e.createElement("div",(0,ve.Z)({className:xe()(ye().numberInfo,(0,ge.Z)({},ye()["numberInfo".concat(i)],i))},C),t&&e.createElement("div",{className:ye().numberInfoTitle,title:typeof t=="string"?t:""},t),n&&e.createElement("div",{className:ye().numberInfoSubTitle,title:typeof n=="string"?n:""},n),e.createElement("div",{className:ye().numberInfoValue,style:h?{marginTop:h}:{}},e.createElement("span",null,u,o&&e.createElement("em",{className:ye().suffix},o)),(s||l)&&e.createElement("span",{className:ye().subTotal},l,s&&s==="up"?e.createElement(dt.Z,null):e.createElement(ct.Z,null))))},Je=ia,sa=[{title:e.createElement(d._H,{id:"dashboardandanalysis.table.rank",defaultMessage:"Rank"}),dataIndex:"index",key:"index"},{title:e.createElement(d._H,{id:"dashboardandanalysis.table.search-keyword",defaultMessage:"Search keyword"}),dataIndex:"keyword",key:"keyword",render:function(a){return e.createElement("a",{href:"/"},a)}},{title:e.createElement(d._H,{id:"dashboardandanalysis.table.users",defaultMessage:"Users"}),dataIndex:"count",key:"count",sorter:function(a,i){return a.count-i.count},className:r().alignRight},{title:e.createElement(d._H,{id:"dashboardandanalysis.table.weekly-range",defaultMessage:"Weekly Range"}),dataIndex:"range",key:"range",sorter:function(a,i){return a.range-i.range},render:function(a,i){return e.createElement(De,{flag:i.status===1?"down":"up"},e.createElement("span",{style:{marginRight:4}},a,"%"))}}],la=function(a){var i=a.loading,t=a.visitData2,n=a.searchData,u=a.dropdownGroup;return e.createElement(Se.Z,{loading:i,bordered:!1,title:e.createElement(d._H,{id:"dashboardandanalysis.analysis.online-top-search",defaultMessage:"Online Top Search"}),extra:u,style:{height:"100%"}},e.createElement(z.Z,{gutter:68},e.createElement(R.Z,{sm:12,xs:24,style:{marginBottom:24}},e.createElement(Je,{subTitle:e.createElement("span",null,e.createElement(d._H,{id:"dashboardandanalysis.analysis.search-users",defaultMessage:"search users"}),e.createElement(b.Z,{title:e.createElement(d._H,{id:"dashboardandanalysis.analysis.introduce",defaultMessage:"introduce"})},e.createElement(H.Z,{style:{marginLeft:8}}))),gap:8,total:V()(12321).format("0,0"),status:"up",subTotal:17.1}),e.createElement(ke,{line:!0,height:45,data:t})),e.createElement(R.Z,{sm:12,xs:24,style:{marginBottom:24}},e.createElement(Je,{subTitle:e.createElement("span",null,e.createElement(d._H,{id:"dashboardandanalysis.analysis.per-capita-search",defaultMessage:"Per Capita Search"}),e.createElement(b.Z,{title:e.createElement(d._H,{id:"dashboardandanalysis.analysis.introduce",defaultMessage:"introduce"})},e.createElement(H.Z,{style:{marginLeft:8}}))),total:2.7,status:"down",subTotal:26.2,gap:8}),e.createElement(ke,{line:!0,height:45,data:t}))),e.createElement(na.Z,{rowKey:function(s){return s.index},size:"small",columns:sa,dataSource:n,pagination:{style:{marginBottom:0},pageSize:5}}))},oa=la,Ma=c(90140),Ie=c(32620),da=function(a){var i=a.dropdownGroup,t=a.salesType,n=a.loading,u=a.salesPieData,l=a.handleChangeSalesType;return e.createElement(Se.Z,{loading:n,className:r().salesCard,bordered:!1,title:e.createElement(d._H,{id:"dashboardandanalysis.analysis.the-proportion-of-sales",defaultMessage:"The Proportion of Sales"}),style:{height:"100%"},extra:e.createElement("div",{className:r().salesCardExtra},i,e.createElement("div",{className:r().salesTypeRadio},e.createElement(Ie.ZP.Group,{value:t,onChange:l},e.createElement(Ie.ZP.Button,{value:"all"},e.createElement(d._H,{id:"dashboardandanalysis.channel.all",defaultMessage:"ALL"})),e.createElement(Ie.ZP.Button,{value:"online"},e.createElement(d._H,{id:"dashboardandanalysis.channel.online",defaultMessage:"Online"})),e.createElement(Ie.ZP.Button,{value:"stores"},e.createElement(d._H,{id:"dashboardandanalysis.channel.stores",defaultMessage:"Stores"})))))},e.createElement("div",null,e.createElement("h4",{style:{marginTop:8,marginBottom:32}},e.createElement(d._H,{id:"dashboardandanalysis.analysis.sales",defaultMessage:"Sales"})),e.createElement(Ve,{hasLegend:!0,subTitle:e.createElement(d._H,{id:"dashboardandanalysis.analysis.sales",defaultMessage:"Sales"}),total:function(){return e.createElement(Ke,null,u.reduce(function(o,h){return h.y+o},0))},data:u,valueFormat:function(o){return e.createElement(Ke,null,o)},height:248,lineWidth:4})))},ca=da,ua=function(a){var i=a.data,t=a.currentTabKey;return e.createElement(z.Z,{gutter:8,style:{width:138,margin:"8px 0"}},e.createElement(R.Z,{span:12},e.createElement(Je,{title:i.name,subTitle:e.createElement(d._H,{id:"dashboardandanalysis.analysis.conversion-rate",defaultMessage:"Conversion Rate"}),gap:2,total:"".concat(i.cvr*100,"%"),theme:t!==i.name?"light":void 0})),e.createElement(R.Z,{span:12,style:{paddingTop:36}},e.createElement(Ve,{animate:!1,inner:.55,tooltip:!1,margin:[0,0,0,0],percent:i.cvr*100,height:64})))},ha=We.Z.TabPane,ma=function(a){var i=a.activeKey,t=a.loading,n=a.offlineData,u=a.offlineChartData,l=a.handleTabChange;return e.createElement(Se.Z,{loading:t,className:r().offlineCard,bordered:!1,style:{marginTop:32}},e.createElement(We.Z,{activeKey:i,onChange:l},n.map(function(s){return e.createElement(ha,{tab:e.createElement(ua,{data:s,currentTabKey:i}),key:s.name},e.createElement("div",{style:{padding:"0 24px"}},e.createElement(lt,{height:400,data:u,titleMap:{y1:(0,d.wv)({id:"dashboardandanalysis.analysis.traffic"}),y2:(0,d.wv)({id:"dashboardandanalysis.analysis.payments"})}})))})))},fa=ma,va=function(x){(0,D.Z)(i,x);var a=(0,T.Z)(i);function i(){var t;(0,M.Z)(this,i);for(var n=arguments.length,u=new Array(n),l=0;l<n;l++)u[l]=arguments[l];return t=a.call.apply(a,[this].concat(u)),t.state={salesType:"all",currentTabKey:"",rangePickerValue:v("year")},t.reqRef=0,t.timeoutId=0,t.handleChangeSalesType=function(s){t.setState({salesType:s.target.value})},t.handleTabChange=function(s){t.setState({currentTabKey:s})},t.handleRangePickerChange=function(s){var o=t.props.dispatch;t.setState({rangePickerValue:s}),o({type:"dashboardAndanalysis/fetchSalesData"})},t.selectDate=function(s){var o=t.props.dispatch;t.setState({rangePickerValue:v(s)}),o({type:"dashboardAndanalysis/fetchSalesData"})},t.isActive=function(s){var o=t.state.rangePickerValue;if(!o)return"";var h=v(s);return!h||!o[0]||!o[1]?"":o[0].isSame(h[0],"day")&&o[1].isSame(h[1],"day")?r().currentDate:""},t}return(0,j.Z)(i,[{key:"componentDidMount",value:function(){var n=this.props.dispatch;this.reqRef=requestAnimationFrame(function(){n({type:"dashboardAndanalysis/fetch"})})}},{key:"componentWillUnmount",value:function(){var n=this.props.dispatch;n({type:"dashboardAndanalysis/clear"}),cancelAnimationFrame(this.reqRef),clearTimeout(this.timeoutId)}},{key:"render",value:function(){var n=this.state,u=n.rangePickerValue,l=n.salesType,s=n.currentTabKey,o=this.props,h=o.dashboardAndanalysis,C=o.loading,S=h.visitData,m=h.visitData2,W=h.salesData,N=h.searchData,k=h.offlineData,B=h.offlineChartData,Y=h.salesTypeData,G=h.salesTypeDataOnline,K=h.salesTypeDataOffline,F;l==="all"?F=Y:F=l==="online"?G:K;var L=e.createElement(A.Z,null,e.createElement(A.Z.Item,null,"\u64CD\u4F5C\u4E00"),e.createElement(A.Z.Item,null,"\u64CD\u4F5C\u4E8C")),J=e.createElement("span",{className:r().iconGroup},e.createElement(Z.Z,{overlay:L,placement:"bottomRight"},e.createElement($.Z,null))),ne=s||k[0]&&k[0].name;return e.createElement(P.Z,null,e.createElement(e.Fragment,null,e.createElement(Qt,{loading:C,visitData:S}),e.createElement(aa,{rangePickerValue:u,salesData:W,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:C,selectDate:this.selectDate}),e.createElement(z.Z,{gutter:24,style:{marginTop:24}},e.createElement(R.Z,{xl:12,lg:24,md:24,sm:24,xs:24},e.createElement(oa,{loading:C,visitData2:m,searchData:N,dropdownGroup:J})),e.createElement(R.Z,{xl:12,lg:24,md:24,sm:24,xs:24},e.createElement(ca,{dropdownGroup:J,salesType:l,loading:C,salesPieData:F,handleChangeSalesType:this.handleChangeSalesType}))),e.createElement(fa,{activeKey:ne,loading:C,offlineData:k,offlineChartData:B,handleTabChange:this.handleTabChange})))}}]),i}(e.Component),ga=(0,d.$j)(function(x){var a=x.dashboardAndanalysis,i=x.loading;return{dashboardAndanalysis:a,loading:i.effects["dashboardAndanalysis/fetch"]}})(va)},72370:function(O,me,c){"use strict";c.d(me,{Z:function(){return _}});var fe=c(19877),z=c(67294);function _(){var R=z.useReducer(function(U){return U+1},0),w=(0,fe.Z)(R,2),Z=w[1];return Z}},31312:function(O,me,c){"use strict";var fe=c(19877),z=c(67294),_=c(85748);function R(){var w=(0,z.useState)({}),Z=(0,fe.Z)(w,2),U=Z[0],A=Z[1];return(0,z.useEffect)(function(){var M=_.ZP.subscribe(function(j){A(j)});return function(){return _.ZP.unsubscribe(M)}},[]),U}me.Z=R},37160:function(O,me,c){(function(fe,z){O.exports=z(c(67294))})(this,function(fe){return function(z){function _(w){if(R[w])return R[w].exports;var Z=R[w]={i:w,l:!1,exports:{}};return z[w].call(Z.exports,Z,Z.exports,_),Z.l=!0,Z.exports}var R={};return _.m=z,_.c=R,_.i=function(w){return w},_.d=function(w,Z,U){_.o(w,Z)||Object.defineProperty(w,Z,{configurable:!1,enumerable:!0,get:U})},_.n=function(w){var Z=w&&w.__esModule?function(){return w.default}:function(){return w};return _.d(Z,"a",Z),Z},_.o=function(w,Z){return Object.prototype.hasOwnProperty.call(w,Z)},_.p="",_(_.s=4)}([function(z,_,R){"use strict";function w(p){return p&&p.__esModule?p:{default:p}}function Z(p,r){var E={};for(var b in p)0>r.indexOf(b)&&Object.prototype.hasOwnProperty.call(p,b)&&(E[b]=p[b]);return E}function U(p,r){if(!(p instanceof r))throw new TypeError("Cannot call a class as a function")}function A(p,r){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?p:r}function M(p,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);p.prototype=Object.create(r&&r.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(p,r):p.__proto__=r)}function j(p,r){if(p.onChange!==r.onChange)return!0;for(var E=0;y.length>E;E+=1){var b=y[E];if(!window.G2.Util.isEqual(p[b],r[b]))return!0}return!1}var D=Object.assign||function(p){for(var r=1;arguments.length>r;r++){var E=arguments[r];for(var b in E)Object.prototype.hasOwnProperty.call(E,b)&&(p[b]=E[b])}return p},T=function(){function p(r,E){for(var b=0;E.length>b;b++){var H=E[b];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(r,H.key,H)}}return function(r,E,b){return E&&p(r.prototype,E),b&&p(r,b),r}}(),$=R(2),e=w($),P=R(1),d=w(P),I=R(3),g=w(I),y=["width","height","padding","xAis","yAxis","start","end","fillerStyle","backgroundStyle","scales","textStyle","handleStyle","backgroundChart"],v=function(p){function r(){U(this,r);var E=A(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return E.refHandle=function(b){E.container||(E.container=b)},E.reBuild=!1,E}return M(r,p),T(r,[{key:"componentDidMount",value:function(){this.createG2Instance().render()}},{key:"componentWillReceiveProps",value:function(b){var H=this.props,X=H.data,V=Z(H,["data"]),f=b.data,Q=Z(b,["data"]);X!==f&&(this.slider.changeData(f),this.slider.repaint()),j(V,Q)&&(this.reBuild=!0)}},{key:"componentDidUpdate",value:function(){this.reBuild&&(this.slider.destroy(),this.createG2Instance().render(),this.reBuild=!1)}},{key:"componentWillUnmount",value:function(){this.slider.destroy()}},{key:"createG2Instance",value:function(){return this.slider=new e.default(D({container:this.container},this.props))}},{key:"render",value:function(){return d.default.createElement("div",{ref:this.refHandle})}}]),r}(P.Component);_.default=function(p){function r(){return U(this,r),A(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return M(r,p),T(r,[{key:"render",value:function(){return d.default.createElement(g.default,null,d.default.createElement(v,this.props))}}]),r}(P.Component),z.exports=_.default},function(z,_){z.exports=fe},function(z,_,R){(function(w,Z){z.exports=Z()})(0,function(){return function(w){function Z(A){if(U[A])return U[A].exports;var M=U[A]={i:A,l:!1,exports:{}};return w[A].call(M.exports,M,M.exports,Z),M.l=!0,M.exports}var U={};return Z.m=w,Z.c=U,Z.d=function(A,M,j){Z.o(A,M)||Object.defineProperty(A,M,{configurable:!1,enumerable:!0,get:j})},Z.n=function(A){var M=A&&A.__esModule?function(){return A.default}:function(){return A};return Z.d(M,"a",M),M},Z.o=function(A,M){return Object.prototype.hasOwnProperty.call(A,M)},Z.p="",Z(Z.s=0)}([function(w,Z,U){var A=U(1);window&&!window.G2&&console.err("Please load the G2 script first!"),w.exports=A},function(w,Z,U){var A=U(2),M=window&&window.G2,j=M.Chart,D=M.Util,T=M.G,$=M.Global,e=T.Canvas,P=D.DomUtil,d=function(g){return typeof g=="number"};w.exports=function(){function I(y){this._initProps(),D.deepMix(this,y);var v=this.container;if(!v)throw Error("Please specify the container for the Slider!");this.domContainer=D.isString(v)?document.getElementById(v):v,this.handleStyle=D.mix({width:this.height,height:this.height},this.handleStyle),this.width==="auto"&&window.addEventListener("resize",D.wrapBehavior(this,"_initForceFitEvent"))}var g=I.prototype;return g._initProps=function(){this.height=26,this.width="auto",this.padding=$.plotCfg.padding,this.container=null,this.xAxis=null,this.yAxis=null,this.fillerStyle={fill:"#BDCCED",fillOpacity:.3},this.backgroundStyle={stroke:"#CCD6EC",fill:"#CCD6EC",fillOpacity:.3,lineWidth:1},this.range=[0,100],this.layout="horizontal",this.textStyle={fill:"#545454"},this.handleStyle={img:"https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png",width:5},this.backgroundChart={type:["area"],color:"#CCD6EC"}},g._initForceFitEvent=function(){var y=setTimeout(D.wrapBehavior(this,"forceFit"),200);clearTimeout(this.resizeTimer),this.resizeTimer=y},g.forceFit=function(){if(this&&!this.destroyed){var y=P.getWidth(this.domContainer),v=this.height;if(y!==this.domWidth){var p=this.canvas;p.changeSize(y,v),this.bgChart&&this.bgChart.changeWidth(y),p.clear(),this._initWidth(),this._initSlider(),this._bindEvent(),p.draw()}}},g._initWidth=function(){var y;y=this.width==="auto"?P.getWidth(this.domContainer):this.width,this.domWidth=y;var v=D.toAllPadding(this.padding);this.layout==="horizontal"?(this.plotWidth=y-v[1]-v[3],this.plotPadding=v[3],this.plotHeight=this.height):this.layout==="vertical"&&(this.plotWidth=this.width,this.plotHeight=this.height-v[0]-v[2],this.plotPadding=v[0])},g.render=function(){this._initWidth(),this._initCanvas(),this._initBackground(),this._initSlider(),this._bindEvent(),this.canvas.draw()},g.changeData=function(y){this.data=y,this.repaint()},g.destroy=function(){clearTimeout(this.resizeTimer),this.rangeElement.off("sliderchange"),this.bgChart&&this.bgChart.destroy(),this.canvas.destroy();for(var y=this.domContainer;y.hasChildNodes();)y.removeChild(y.firstChild);window.removeEventListener("resize",D.getWrapBehavior(this,"_initForceFitEvent")),this.destroyed=!0},g.clear=function(){this.canvas.clear(),this.bgChart&&this.bgChart.destroy(),this.bgChart=null,this.scale=null,this.canvas.draw()},g.repaint=function(){this.clear(),this.render()},g._initCanvas=function(){var y=this.domWidth,v=this.height,p=new e({width:y,height:v,containerDOM:this.domContainer,capture:!1}),r=p.get("el");r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.zIndex=3,this.canvas=p},g._initBackground=function(){var y,v=this.data,p=this.xAxis,r=this.yAxis,E=D.deepMix((y={},y[""+p]={range:[0,1]},y),this.scales);if(!v)throw Error("Please specify the data!");if(!p)throw Error("Please specify the xAxis!");if(!r)throw Error("Please specify the yAxis!");var b=this.backgroundChart,H=b.type,X=b.color;D.isArray(H)||(H=[H]);var V=D.toAllPadding(this.padding),f=new j({container:this.container,width:this.domWidth,height:this.height,padding:[0,V[1],0,V[3]],animate:!1});f.source(v),f.scale(E),f.axis(!1),f.tooltip(!1),f.legend(!1),D.each(H,function(Q){f[Q]().position(p+"*"+r).color(X).opacity(1)}),f.render(),this.bgChart=f,this.scale=this.layout==="horizontal"?f.getXScale():f.getYScales()[0],this.layout==="vertical"&&f.destroy()},g._initRange=function(){var y=this.startRadio,v=this.endRadio,p=this.start,r=this.end,E=this.scale,b=0,H=1;d(y)?b=y:p&&(b=E.scale(E.translate(p))),d(v)?H=v:r&&(H=E.scale(E.translate(r)));var X=this.minSpan,V=this.maxSpan,f=0;if(E.type==="time"||E.type==="timeCat"){var Q=E.values;f=Q[Q.length-1]-Q[0]}else E.isLinear&&(f=E.max-E.min);f&&X&&(this.minRange=X/f*100),f&&V&&(this.maxRange=V/f*100);var ee=[100*b,100*H];return this.range=ee,ee},g._getHandleValue=function(y){var v=this.range,p=v[0]/100,r=v[1]/100,E=this.scale;return y==="min"?this.start?this.start:E.invert(p):this.end?this.end:E.invert(r)},g._initSlider=function(){var y=this.canvas,v=this._initRange(),p=this.scale,r=y.addGroup(A,{middleAttr:this.fillerStyle,range:v,minRange:this.minRange,maxRange:this.maxRange,layout:this.layout,width:this.plotWidth,height:this.plotHeight,backgroundStyle:this.backgroundStyle,textStyle:this.textStyle,handleStyle:this.handleStyle,minText:p.getText(this._getHandleValue("min")),maxText:p.getText(this._getHandleValue("max"))});this.layout==="horizontal"?r.translate(this.plotPadding,0):this.layout==="vertical"&&r.translate(0,this.plotPadding),this.rangeElement=r},g._bindEvent=function(){var y=this;y.rangeElement.on("sliderchange",function(v){var p=v.range;y._updateElement(p[0]/100,p[1]/100)})},g._updateElement=function(y,v){var p=this.scale,r=this.rangeElement,E=r.get("minTextElement"),b=r.get("maxTextElement"),H=p.invert(y),X=p.invert(v),V=p.getText(H),f=p.getText(X);E.attr("text",V),b.attr("text",f),this.start=V,this.end=f,this.onChange&&this.onChange({startText:V,endText:f,startValue:H,endValue:X,startRadio:y,endRadio:v})},I}()},function(w,Z){function U($,e){$.prototype=Object.create(e.prototype),$.prototype.constructor=$,$.__proto__=e}var A=window&&window.G2,M=A.Util,j=A.G,D=j.Group,T=M.DomUtil;w.exports=function($){function e(){return $.apply(this,arguments)||this}U(e,$);var P=e.prototype;return P.getDefaultCfg=function(){return{range:null,middleAttr:null,backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},P._initHandle=function(d){var I,g,y,v=this.addGroup(),p=this.get("layout"),r=this.get("handleStyle"),E=r.img,b=r.width,H=r.height;if(p==="horizontal"){var X=r.width;y="ew-resize",g=v.addShape("Image",{attrs:{x:-X/2,y:0,width:X,height:H,img:E,cursor:y}}),I=v.addShape("Text",{attrs:M.mix({x:d==="min"?-(X/2+5):X/2+5,y:H/2,textAlign:d==="min"?"end":"start",textBaseline:"middle",text:this.get(d==="min"?"minText":"maxText"),cursor:y},this.get("textStyle"))})}else y="ns-resize",g=v.addShape("Image",{attrs:{x:0,y:-H/2,width:b,height:H,img:E,cursor:y}}),I=v.addShape("Text",{attrs:M.mix({x:b/2,y:d==="min"?H/2+5:-(H/2+5),textAlign:"center",textBaseline:"middle",text:this.get(d==="min"?"minText":"maxText"),cursor:y},this.get("textStyle"))});return this.set(d+"TextElement",I),this.set(d+"IconElement",g),v},P._initSliderBackground=function(){var d=this.addGroup();return d.initTransform(),d.translate(0,0),d.addShape("Rect",{attrs:M.mix({x:0,y:0,width:this.get("width"),height:this.get("height")},this.get("backgroundStyle"))}),d},P._beforeRenderUI=function(){var d=this._initSliderBackground(),I=this._initHandle("min"),g=this._initHandle("max"),y=this.addShape("rect",{attrs:this.get("middleAttr")});this.set("middleHandleElement",y),this.set("minHandleElement",I),this.set("maxHandleElement",g),this.set("backgroundElement",d),d.set("zIndex",0),y.set("zIndex",1),I.set("zIndex",2),g.set("zIndex",2),y.attr("cursor","move"),this.sort()},P._renderUI=function(){this.get("layout")==="horizontal"?this._renderHorizontal():this._renderVertical()},P._transform=function(d){var I=this.get("range"),g=I[0]/100,y=I[1]/100,v=this.get("width"),p=this.get("height"),r=this.get("minHandleElement"),E=this.get("maxHandleElement"),b=this.get("middleHandleElement");r.resetMatrix?(r.resetMatrix(),E.resetMatrix()):(r.initTransform(),E.initTransform()),d==="horizontal"?(b.attr({x:v*g,y:0,width:(y-g)*v,height:p}),r.translate(g*v,0),E.translate(y*v,0)):(b.attr({x:0,y:p*(1-y),width:v,height:(y-g)*p}),r.translate(0,(1-g)*p),E.translate(0,(1-y)*p))},P._renderHorizontal=function(){this._transform("horizontal")},P._renderVertical=function(){this._transform("vertical")},P._bindUI=function(){this.on("mousedown",M.wrapBehavior(this,"_onMouseDown"))},P._isElement=function(d,I){var g=this.get(I);return d===g?!0:g.isGroup?g.get("children").indexOf(d)>-1:!1},P._getRange=function(d,I){var g=d+I;return g=g>100?100:g,g=0>g?0:g},P._limitRange=function(d,I,g){g[0]=this._getRange(d,g[0]),(g[1]=g[0]+I)>100&&(g[1]=100,g[0]=g[1]-I)},P._updateStatus=function(d,I){var g=this.get(d==="x"?"width":"height");d=M.upperFirst(d);var y,v=this.get("range"),p=this.get("page"+d),r=this.get("currentTarget"),E=this.get("rangeStash"),b=this.get("layout"),H=b==="vertical"?-1:1,X=I["page"+d],V=X-p,f=V/g*100*H,Q=this.get("minRange"),ee=this.get("maxRange");v[1]>v[0]?(this._isElement(r,"minHandleElement")&&(v[0]=this._getRange(f,v[0]),Q&&(v[1]-v[0]>Q||this._limitRange(f,Q,v)),ee&&(ee>v[1]-v[0]||this._limitRange(f,ee,v))),this._isElement(r,"maxHandleElement")&&(v[1]=this._getRange(f,v[1]),Q&&(v[1]-v[0]>Q||this._limitRange(f,Q,v)),ee&&(ee>v[1]-v[0]||this._limitRange(f,ee,v)))):(this._isElement(r,"minHandleElement")||this._isElement(r,"maxHandleElement"))&&(v[0]=this._getRange(f,v[0]),v[1]=this._getRange(f,v[0])),this._isElement(r,"middleHandleElement")&&(y=E[1]-E[0],this._limitRange(f,y,v)),this.emit("sliderchange",{range:v}),this.set("page"+d,X),this._renderUI(),this.get("canvas").draw()},P._onMouseDown=function(d){var I=d.currentTarget,g=d.event,y=this.get("range");g.stopPropagation(),g.preventDefault(),this.set("pageX",g.pageX),this.set("pageY",g.pageY),this.set("currentTarget",I),this.set("rangeStash",[y[0],y[1]]),this._bindCanvasEvents()},P._bindCanvasEvents=function(){var d=this.get("canvas").get("containerDOM");this.onMouseMoveListener=T.addEventListener(d,"mousemove",M.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=T.addEventListener(d,"mouseup",M.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=T.addEventListener(d,"mouseleave",M.wrapBehavior(this,"_onCanvasMouseUp"))},P._onCanvasMouseMove=function(d){this.get("layout")==="horizontal"?this._updateStatus("x",d):this._updateStatus("y",d)},P._onCanvasMouseUp=function(){this._removeDocumentEvents()},P._removeDocumentEvents=function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove(),this.onMouseLeaveListener.remove()},e}(D)}])})},function(z,_,R){"use strict";function w(D,T){if(!(D instanceof T))throw new TypeError("Cannot call a class as a function")}function Z(D,T){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||typeof T!="object"&&typeof T!="function"?D:T}function U(D,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);D.prototype=Object.create(T&&T.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(D,T):D.__proto__=T)}Object.defineProperty(_,"__esModule",{value:!0});var A=function(){function D(T,$){for(var e=0;$.length>e;e++){var P=$[e];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(T,P.key,P)}}return function(T,$,e){return $&&D(T.prototype,$),e&&D(T,e),T}}(),M=R(1),j=function(D){return D&&D.__esModule?D:{default:D}}(M);_.default=function(D){function T($){w(this,T);var e=Z(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,$));return e.state={hasError:!1},e}return U(T,D),A(T,[{key:"componentDidCatch",value:function(e,P){this.setState({hasError:!0})}},{key:"unstable_handleError",value:function(e,P){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?j.default.createElement("h1",null,"Slider error."):this.props.children}}]),T}(j.default.Component)},function(z,_,R){R(0),z.exports=R(0)}])})}}]);
