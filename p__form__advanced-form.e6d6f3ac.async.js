(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8529],{72627:function(z){z.exports={card:"card___1dsH6",errorIcon:"errorIcon___3jptF",anticon:"anticon___A0Hdx",errorPopover:"errorPopover___FGjVx",errorListItem:"errorListItem___1rmVg",errorField:"errorField___2Y7eW",editable:"editable___WRDur"}},72259:function(z,Q,a){"use strict";a.r(Q),a.d(Q,{default:function(){return Ze}});var he=a(13753),U=a(48429),Be=a(65679),ae=a(36775),De=a(12399),M=a(82404),Ie=a(5317),b=a(87555),Ae=a(52222),i=a(65507),ke=a(68137),g=a(50532),Ne=a(34276),ne=a(56466),Pe=a(67604),u=a(66498),F=a(44742),Se=a(74393),re=a(32703),be=a(97140),y=a(28389),X=a(73218),e=a(67294),le=a(28258),ue=a(47990),oe=a(23715),xe=a(36805),me=a(86305),Re=a(43623),q=a(28930),Ke=a(77111),j=a(49194),Le=a(14643),se=a(92909),_=a(50189),B=a(56361),ie=a(49101),ce=a(72627),f=a.n(ce),de=function(C){var V=C.value,D=C.onChange,J=(0,e.useState)(!1),x=(0,F.Z)(J,2),I=x[0],k=x[1],R=(0,e.useState)(!1),K=(0,F.Z)(R,2),N=K[0],P=K[1],W=(0,e.useState)(0),L=(0,F.Z)(W,2),h=L[0],o=L[1],T=(0,e.useState)({}),O=(0,F.Z)(T,2),p=O[0],E=O[1],d=(0,e.useState)(V),A=(0,F.Z)(d,2),m=A[0],S=A[1],$=function(r,t){var l;return(l=t||m)===null||l===void 0?void 0:l.filter(function(n){return n.key===r})[0]},ee=function(r,t){r.preventDefault();var l=m==null?void 0:m.map(function(Z){return(0,B.Z)({},Z)}),n=$(t,l);n&&(n.editable||(p[t]=(0,B.Z)({},n),E(p)),n.editable=!n.editable,S(l))},ge=function(){var r=(m==null?void 0:m.map(function(t){return(0,B.Z)({},t)}))||[];r.push({key:"NEW_TEMP_ID_".concat(h),workId:"",name:"",department:"",editable:!0,isNew:!0}),o(h+1),S(r)},te=function(r){var t=m==null?void 0:m.filter(function(l){return l.key!==r});S(t),D&&D(t)},G=function(r,t,l){var n=(0,_.Z)(m),Z=$(l,n);Z&&(Z[t]=r.target.value,S(n))},H=function(r,t){r.persist(),P(!0),setTimeout(function(){if(I){k(!1);return}var l=$(t)||{};if(!l.workId||!l.name||!l.department){se.default.error("\u8BF7\u586B\u5199\u5B8C\u6574\u6210\u5458\u4FE1\u606F\u3002"),r.target.focus(),P(!1);return}delete l.isNew,ee(r,t),D&&D(m),P(!1)},500)},Y=function(r,t){r.key==="Enter"&&H(r,t)},Fe=function(r,t){k(!0),r.preventDefault();var l=(0,_.Z)(m),n=[];n=l.map(function(Z){if(Z.key===t&&p[t]){var Ce=(0,B.Z)((0,B.Z)((0,B.Z)({},Z),p[t]),{},{editable:!1});return delete p[t],E(p),Ce}return Z}),S(n),k(!1)},ye=[{title:"\u6210\u5458\u59D3\u540D",dataIndex:"name",key:"name",width:"20%",render:function(r,t){return t.editable?e.createElement(g.Z,{value:r,autoFocus:!0,onChange:function(n){return G(n,"name",t.key)},onKeyPress:function(n){return Y(n,t.key)},placeholder:"\u6210\u5458\u59D3\u540D"}):r}},{title:"\u5DE5\u53F7",dataIndex:"workId",key:"workId",width:"20%",render:function(r,t){return t.editable?e.createElement(g.Z,{value:r,onChange:function(n){return G(n,"workId",t.key)},onKeyPress:function(n){return Y(n,t.key)},placeholder:"\u5DE5\u53F7"}):r}},{title:"\u6240\u5C5E\u90E8\u95E8",dataIndex:"department",key:"department",width:"40%",render:function(r,t){return t.editable?e.createElement(g.Z,{value:r,onChange:function(n){return G(n,"department",t.key)},onKeyPress:function(n){return Y(n,t.key)},placeholder:"\u6240\u5C5E\u90E8\u95E8"}):r}},{title:"\u64CD\u4F5C",key:"action",render:function(r,t){return!!t.editable&&N?null:t.editable?t.isNew?e.createElement("span",null,e.createElement("a",{onClick:function(n){return H(n,t.key)}},"\u6DFB\u52A0"),e.createElement(j.Z,{type:"vertical"}),e.createElement(q.Z,{title:"\u662F\u5426\u8981\u5220\u9664\u6B64\u884C\uFF1F",onConfirm:function(){return te(t.key)}},e.createElement("a",null,"\u5220\u9664"))):e.createElement("span",null,e.createElement("a",{onClick:function(n){return H(n,t.key)}},"\u4FDD\u5B58"),e.createElement(j.Z,{type:"vertical"}),e.createElement("a",{onClick:function(n){return Fe(n,t.key)}},"\u53D6\u6D88")):e.createElement("span",null,e.createElement("a",{onClick:function(n){return ee(n,t.key)}},"\u7F16\u8F91"),e.createElement(j.Z,{type:"vertical"}),e.createElement(q.Z,{title:"\u662F\u5426\u8981\u5220\u9664\u6B64\u884C\uFF1F",onConfirm:function(){return te(t.key)}},e.createElement("a",null,"\u5220\u9664")))}}];return e.createElement(e.Fragment,null,e.createElement(me.Z,{loading:N,columns:ye,dataSource:m,pagination:!1,rowClassName:function(r){return r.editable?f().editable:""}}),e.createElement(U.Z,{style:{width:"100%",marginTop:16,marginBottom:8},type:"dashed",onClick:ge},e.createElement(ie.Z,null),"\u65B0\u589E\u6210\u5458"))},ve=de,c=y.Z.Option,Ee=re.Z.RangePicker,s={name:"\u4ED3\u5E93\u540D",url:"\u4ED3\u5E93\u57DF\u540D",owner:"\u4ED3\u5E93\u7BA1\u7406\u5458",approver:"\u5BA1\u6279\u4EBA",dateRange:"\u751F\u6548\u65E5\u671F",type:"\u4ED3\u5E93\u7C7B\u578B",name2:"\u4EFB\u52A1\u540D",url2:"\u4EFB\u52A1\u63CF\u8FF0",owner2:"\u6267\u884C\u4EBA",approver2:"\u8D23\u4EFB\u4EBA",dateRange2:"\u751F\u6548\u65E5\u671F",type2:"\u4EFB\u52A1\u7C7B\u578B"},fe=[{key:"1",workId:"00001",name:"John Brown",department:"New York No. 1 Lake Park"},{key:"2",workId:"00002",name:"Jim Green",department:"London No. 1 Lake Park"},{key:"3",workId:"00003",name:"Joe Black",department:"Sidney No. 1 Lake Park"}],pe=function(C){var V=C.submitting,D=C.dispatch,J=u.Z.useForm(),x=(0,F.Z)(J,1),I=x[0],k=(0,e.useState)([]),R=(0,F.Z)(k,2),K=R[0],N=R[1],P=function(o){var T=o.filter(function(E){return E.errors.length>0}).length;if(!o||T===0)return null;var O=function(d){var A=document.querySelector('label[for="'.concat(d,'"]'));A&&A.scrollIntoView(!0)},p=o.map(function(E){if(!E||E.errors.length===0)return null;var d=E.name[0];return e.createElement("li",{key:d,className:f().errorListItem,onClick:function(){return O(d)}},e.createElement(X.Z,{className:f().errorIcon}),e.createElement("div",{className:f().errorMessage},E.errors[0]),e.createElement("div",{className:f().errorField},s[d]))});return e.createElement("span",{className:f().errorIcon},e.createElement(ne.Z,{title:"\u8868\u5355\u6821\u9A8C\u4FE1\u606F",content:p,overlayClassName:f().errorPopover,trigger:"click",getPopupContainer:function(d){return d&&d.parentNode?d.parentNode:d}},e.createElement(X.Z,null)),T)},W=function(o){N([]),D({type:"formAndadvancedForm/submitAdvancedForm",payload:o})},L=function(o){N(o.errorFields)};return e.createElement(u.Z,{form:I,layout:"vertical",hideRequiredMark:!0,initialValues:{members:fe},onFinish:W,onFinishFailed:L},e.createElement(le.Z,{content:"\u9AD8\u7EA7\u8868\u5355\u5E38\u89C1\u4E8E\u4E00\u6B21\u6027\u8F93\u5165\u548C\u63D0\u4EA4\u5927\u6279\u91CF\u6570\u636E\u7684\u573A\u666F\u3002"},e.createElement(M.Z,{title:"\u4ED3\u5E93\u7BA1\u7406",className:f().card,bordered:!1},e.createElement(b.Z,{gutter:16},e.createElement(i.Z,{lg:6,md:12,sm:24},e.createElement(u.Z.Item,{label:s.name,name:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4ED3\u5E93\u540D\u79F0"}]},e.createElement(g.Z,{placeholder:"\u8BF7\u8F93\u5165\u4ED3\u5E93\u540D\u79F0"}))),e.createElement(i.Z,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24},e.createElement(u.Z.Item,{label:s.url,name:"url",rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}]},e.createElement(g.Z,{style:{width:"100%"},addonBefore:"http://",addonAfter:".com",placeholder:"\u8BF7\u8F93\u5165"}))),e.createElement(i.Z,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24},e.createElement(u.Z.Item,{label:s.owner,name:"owner",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7BA1\u7406\u5458"}]},e.createElement(y.Z,{placeholder:"\u8BF7\u9009\u62E9\u7BA1\u7406\u5458"},e.createElement(c,{value:"xiao"},"\u4ED8\u6653\u6653"),e.createElement(c,{value:"mao"},"\u5468\u6BDB\u6BDB"))))),e.createElement(b.Z,{gutter:16},e.createElement(i.Z,{lg:6,md:12,sm:24},e.createElement(u.Z.Item,{label:s.approver,name:"approver",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5BA1\u6279\u5458"}]},e.createElement(y.Z,{placeholder:"\u8BF7\u9009\u62E9\u5BA1\u6279\u5458"},e.createElement(c,{value:"xiao"},"\u4ED8\u6653\u6653"),e.createElement(c,{value:"mao"},"\u5468\u6BDB\u6BDB")))),e.createElement(i.Z,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24},e.createElement(u.Z.Item,{label:s.dateRange,name:"dateRange",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u751F\u6548\u65E5\u671F"}]},e.createElement(Ee,{placeholder:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"],style:{width:"100%"}}))),e.createElement(i.Z,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24},e.createElement(u.Z.Item,{label:s.type,name:"type",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"}]},e.createElement(y.Z,{placeholder:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"},e.createElement(c,{value:"private"},"\u79C1\u5BC6"),e.createElement(c,{value:"public"},"\u516C\u5F00")))))),e.createElement(M.Z,{title:"\u4EFB\u52A1\u7BA1\u7406",className:f().card,bordered:!1},e.createElement(b.Z,{gutter:16},e.createElement(i.Z,{lg:6,md:12,sm:24},e.createElement(u.Z.Item,{label:s.name2,name:"name2",rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}]},e.createElement(g.Z,{placeholder:"\u8BF7\u8F93\u5165"}))),e.createElement(i.Z,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24},e.createElement(u.Z.Item,{label:s.url2,name:"url2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9"}]},e.createElement(g.Z,{placeholder:"\u8BF7\u8F93\u5165"}))),e.createElement(i.Z,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24},e.createElement(u.Z.Item,{label:s.owner2,name:"owner2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7BA1\u7406\u5458"}]},e.createElement(y.Z,{placeholder:"\u8BF7\u9009\u62E9\u7BA1\u7406\u5458"},e.createElement(c,{value:"xiao"},"\u4ED8\u6653\u6653"),e.createElement(c,{value:"mao"},"\u5468\u6BDB\u6BDB"))))),e.createElement(b.Z,{gutter:16},e.createElement(i.Z,{lg:6,md:12,sm:24},e.createElement(u.Z.Item,{label:s.approver2,name:"approver2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5BA1\u6279\u5458"}]},e.createElement(y.Z,{placeholder:"\u8BF7\u9009\u62E9\u5BA1\u6279\u5458"},e.createElement(c,{value:"xiao"},"\u4ED8\u6653\u6653"),e.createElement(c,{value:"mao"},"\u5468\u6BDB\u6BDB")))),e.createElement(i.Z,{xl:{span:6,offset:2},lg:{span:8},md:{span:12},sm:24},e.createElement(u.Z.Item,{label:s.dateRange2,name:"dateRange2",rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}]},e.createElement(ae.Z,{placeholder:"\u63D0\u9192\u65F6\u95F4",style:{width:"100%"},getPopupContainer:function(o){return o&&o.parentNode?o.parentNode:o}}))),e.createElement(i.Z,{xl:{span:8,offset:2},lg:{span:10},md:{span:24},sm:24},e.createElement(u.Z.Item,{label:s.type2,name:"type2",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"}]},e.createElement(y.Z,{placeholder:"\u8BF7\u9009\u62E9\u4ED3\u5E93\u7C7B\u578B"},e.createElement(c,{value:"private"},"\u79C1\u5BC6"),e.createElement(c,{value:"public"},"\u516C\u5F00")))))),e.createElement(M.Z,{title:"\u6210\u5458\u7BA1\u7406",bordered:!1},e.createElement(u.Z.Item,{name:"members"},e.createElement(ve,null)))),e.createElement(ue.Z,null,P(K),e.createElement(U.Z,{type:"primary",onClick:function(){return I==null?void 0:I.submit()},loading:V},"\u63D0\u4EA4")))},Ze=(0,oe.$j)(function(w){var C=w.loading;return{submitting:C.effects["formAndadvancedForm/submitAdvancedForm"]}})(pe)}}]);
